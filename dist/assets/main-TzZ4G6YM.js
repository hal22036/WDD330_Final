(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const f="exercisedb.p.rapidapi.com",l={async fetchBodyPartOptions(o){try{const c=await p("https://exercisedb.p.rapidapi.com/exercises/bodyPartList",o);if(!c.ok)throw new Error(`Failed to fetch body part options. Status: ${c.status}`);return c.json()}catch(n){return console.error("Error fetching body part options:",n),[]}},async fetchExercises(o,n=1/0,c){try{const e=`https://exercisedb.p.rapidapi.com/exercises/bodyPart/${encodeURIComponent(o)}?limit=${n}`,t=await p(e,c);if(!t.ok)throw new Error(`Failed to fetch exercises. Status: ${t.status}`);const a=await t.json(),s=Array.isArray(a)?a:a.exercises?a.exercises:[a];if(!Array.isArray(s)||s.length===0)throw new Error("Invalid or empty exercises data");const d=Array.from(new Set(s.flatMap(i=>i.equipment||[]))).map(i=>({value:i}));return{exercises:s,uniqueEquipmentTypes:d}}catch(r){return console.error("Error fetching exercises:",r),{exercises:[],uniqueEquipmentTypes:[]}}}};async function p(o,n){const c={method:"GET",headers:{"X-RapidAPI-Key":n,"X-RapidAPI-Host":f}};try{const r=await fetch(o,c);if(!r.ok)throw new Error(`Failed to fetch data. Status: ${r.status}`);return r}catch(r){return console.error("Error fetching data:",r),{ok:!1}}}function y(o,n){const c=document.createElement("h2");c.textContent="Click a card to do an exercise",o.appendChild(c);const r=document.createElement("div");r.className="card-container",o.appendChild(r),n.forEach(e=>{const t=document.createElement("div");t.className="card";const a=document.createElement("img");a.src=e.gifUrl,a.alt=e.name,t.appendChild(a);const s=document.createElement("p");s.textContent=e.name,t.appendChild(s),t.addEventListener("click",()=>{h(e)}),r.appendChild(t)})}function h(o){const n=document.getElementById("chosenCard");n.innerHTML="";const c=document.createElement("div");c.className="chosen-card-content",n.appendChild(c);const r=document.createElement("img");r.src=o.gifUrl,r.alt=o.name,c.appendChild(r);const e=document.createElement("div");e.className="exercise-details-content",c.appendChild(e);const t=document.createElement("h3");t.textContent=o.name,e.appendChild(t);const a=document.createElement("ol");o.instructions.forEach(d=>{const i=document.createElement("li");i.textContent=d,a.appendChild(i)}),e.appendChild(a);const s=document.createElement("button");s.textContent="Exercise Complete",s.className="completed-button",s.addEventListener("click",()=>{E(o)}),e.appendChild(s)}function E(o){const n=JSON.parse(localStorage.getItem("completedExercises"))||[];n.push({name:o.name,equipment:o.equipment||"N/A",date:new Date().toLocaleDateString()}),localStorage.setItem("completedExercises",JSON.stringify(n)),u(n)}function u(o){const n=document.getElementById("completedExercisesTable"),c=document.querySelector(".completed-exercises-container");if(o.length===0){n.style.display="none",c.style.display="none";return}else n.style.display="table",c.style.display="block";const r=n.querySelector("tbody");r.innerHTML="",o.forEach(e=>{const t=r.insertRow();t.insertCell(0).textContent=e.name,t.insertCell(1).textContent=e.equipment,t.insertCell(2).textContent=e.date})}const C=document.getElementById("container");C.classList.add("container");function m(o,n){o.innerHTML="";const c=Array.isArray(n)?n:[n],r=document.createElement("option");r.text="Select an option",r.value="",o.add(r),c.forEach(e=>{const t=document.createElement("option"),a=typeof e=="object"?e.value:e;t.value=a,t.text=a,o.appendChild(t)})}document.addEventListener("DOMContentLoaded",async()=>{const o=document.getElementById("equipmentSelect"),n="08afda21f6msh1d1e95b25d2af67p1d1dbbjsn0d3e89ada2e4",c=document.getElementById("bodyPartSelect");c.addEventListener("change",async()=>{const r=c.value;try{const e=await l.fetchBodyPartOptions(n);console.log("Body Part Options:",e);const{uniqueEquipmentTypes:t}=await l.fetchExercises(r,1/0,n);m(o,t)}catch(e){console.error("Error:",e)}}),o.addEventListener("change",async()=>{const r=c.value,e=o.value,{exercises:t}=await l.fetchExercises(r,10,n),a=t.filter(d=>e.includes(d.equipment)),s=document.getElementById("container");s.innerHTML="",a.length===0?s.innerHTML="<p class='different'>Please Choose Different Equipment</p>":y(s,a)}),m(c,await l.fetchBodyPartOptions(n))});document.addEventListener("DOMContentLoaded",()=>{const o=JSON.parse(localStorage.getItem("completedExercises"))||[];u(o)});
